<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Security-Policy" content="default-src *;font-src 'self' data:; img-src 'self' data:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'; media-src *">
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <title>Smarc</title>
        <link rel="stylesheet" type="text/css" href="js/libs/angular-material/angular-material.min.css" />
        <link rel="stylesheet" type="text/css" href="css/style.css" />
    </head>
    <body ng-controller="rootController" ng-app-ready="appReady()">
        <div id="appContainer" md-swipe-right="openSidebar('mainSidebar')">
            <!-- header -->
            <md-toolbar>
                <div class="md-toolbar-tools">
                    <md-button ng-if="currentPage == 'home'" class="md-icon-button" aria-label="Menu" ng-click="openSidebar('mainSidebar')">
                        <md-icon class="smarc-menu"></md-icon>
                    </md-button>
                    <md-button ng-if="currentPage != 'home'" class="md-icon-button" aria-label="Back" ng-click="back()">
                        <md-icon class="smarc-back"></md-icon>
                    </md-button>

                    <h2>
                        <span>{{ title }}</span>
                    </h2>
                    <span flex></span>
                    <md-menu md-position-mode="target-right target">
                        <md-button aria-label="Open demo menu" class="md-icon-button" ng-click="openMenu($mdOpenMenu, $event)">
                            <md-icon md-menu-origin class="smarc-more_vert"></md-icon>
                        </md-button>
                        <md-menu-content width="4" >
                            <md-menu-item>
                                <md-button href="#profile" ng-click="originatorEv = null;">
                                    <div layout="row">
                                        <p flex>My Profile</p>
                                    </div>
                                </md-button>
                            </md-menu-item>
                            <md-menu-item>
                                <md-button href="#options" ng-click="originatorEv = null;">
                                    <div layout="row">
                                        <p flex>Options</p>
                                    </div>
                                </md-button>
                            </md-menu-item>
                            <md-menu-item>
                                <md-button ng-click="logout()">
                                    <div layout="row">
                                        <p flex>Log Out</p>
                                    </div>
                                </md-button>
                            </md-menu-item>
                        </md-menu-content>
                    </md-menu>
                </div>
            </md-toolbar>

            <!-- sidebar -->
            <md-sidenav class="md-sidenav-left md-whiteframe-z2" md-component-id="mainSidebar">
                <md-toolbar class="md-theme-indigo">
                    <h1 class="md-toolbar-tools">Rooms</h1>
                </md-toolbar>
                <md-content layout-padding>
                    <md-list>
                        <md-list-item ng-if="userObject()['roles'].indexOf('add_users') != -1" href="#users" ng-click="closeSidebar('mainSidebar')">
                            <p> Users </p>
                        </md-list-item>
                        <md-list-item href="#home" ng-click="closeSidebar('mainSidebar')">
                            <p> Home </p>
                        </md-list-item>
                        <md-list-item href="#all" ng-click="closeSidebar('mainSidebar')">
                            <p> All Points </p>
                        </md-list-item>
                        <md-list-item ng-repeat="(id, name) in rooms" href="#room/{{ id }}" ng-click="closeSidebar('mainSidebar')">
                            <p> {{ name }} </p>
                        </md-list-item>
                        <md-list-item ng-click="exit()">
                            <p> Exit !! </p>
                        </md-list-item>
                    </md-list>
                </md-content>
            </md-sidenav>

            <!-- content -->
            <div id="ng-view" ng-view></div>
        </div>

        <!-- this file generates by cordova when building -->
        <script src="cordova.js"></script>

        <!-- Angular JS -->
        <script src="js/libs/angular/angular.min.js"></script>
        <script src="js/libs/angular-route/angular-route.min.js"></script>
        <script src="js/libs/angular-resource/angular-resource.min.js"></script>
        <script src="js/libs/angular-aria/angular-aria.min.js"></script>
        <script src="js/libs/angular-animate/angular-animate.min.js"></script>
        <script src="js/libs/angular-material/angular-material.min.js"></script>

        <!-- Smarc App -->
        <script src="js/scripts/app.js"></script>
        <script src="js/scripts/config.js"></script>

        <!-- Values -->
        <script src="js/scripts/values/rolesValue.js"></script>

        <!-- Controllers -->
        <script src="js/scripts/controllers/rootController.js"></script>
        <script src="js/scripts/controllers/roomController.js"></script>
        <script src="js/scripts/controllers/homeController.js"></script>
        <script src="js/scripts/controllers/usersIndexController.js"></script>
        <script src="js/scripts/controllers/usersCreateController.js"></script>
        <script src="js/scripts/controllers/usersEditController.js"></script>
        <script src="js/scripts/controllers/signController.js"></script>
        <script src="js/scripts/controllers/optionsController.js"></script>
        <script src="js/scripts/controllers/firstStartController.js"></script>
        <script src="js/scripts/controllers/noInternetConnectionExController.js"></script>
        <script src="js/scripts/controllers/profileController.js"></script>
        <script src="js/scripts/controllers/allController.js"></script>

        <!-- Providers -->
        <script src="js/scripts/providers/AuthFactory.js"></script>
        <script src="js/scripts/providers/LightFactory.js"></script>
        <script src="js/scripts/providers/UserFactory.js"></script>
        <script src="js/scripts/providers/ServerFactory.js"></script>
        <script src="js/scripts/providers/LoadingService.js"></script>
        <script src="js/scripts/providers/ConnectionService.js"></script>
        <script src="js/scripts/providers/userMethodsService.js"></script>
        <script src="js/scripts/providers/QueueService.js"></script>

        <!-- Directives -->
        <script src="js/scripts/directives/ngAppReady.js"></script>

        <!-- start app initialization -->
        <script src="js/scripts/init.js"></script>
    </body>
</html>
